<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<style>
    .cont{
        width: 80%;
        margin-right: auto;
        margin-left: auto;
    }
</style>
<body>
<div class="cont">
  <div id="123" class="tableCont">
  </div>
  <button id="btn">ROW +</button>
  <button id="btn2">COL +</button>
  <input type="number" placeholder="y" name="" id="y">
  <button id="btn4">OPEN Graph</button>
  <button id="btn7">List</button>
</div>
<script>

  let table = new TableLibrary.Table('123', {
    header: ['123', '123d', '00', '1','4','3',],
    body: [['1ddddddddddddddddddddddd', '', '3', '','4','5'], ['21', '22', '23', '22','24','25'], ['31', '32', '33', '32','34','35']],
    footer: 'Футер'
  })

  setTimeout(()=>{
    table.setTable({
      header: ['1', '3', '4','5','6',],
      body: [['1', '', '3', '','4','5'], ['21', '22', '23', '22','24','25'], ['31', '32', '33', '32','34','dd']],
      footer: 'Футеdр'
    })},3000)
  document.getElementById('btn').addEventListener('click', () => {
    table.pushRow()
  })
  document.getElementById('btn2').addEventListener('click', () => {
    table.pushColumn('ухх')
  })

  const modalContent = `<span>График</span>
                <button id="btn5">Line</button>
                <button id="btn6">Column</button>`;
  const modalInstance = new TableLibrary.Modal(modalContent, 'modal-content-1');
  let chart
  let chart2
  document.getElementById('btn4').addEventListener('click', () => {
    let y = document.getElementById('y').value
    if(y &&  table.getChartData(y)){
      modalInstance.openModal()
      if(!chart){
        chart = new TableLibrary.Chart('modal-content-1', table.getChartData(y).data,table.getChartData(y).header, {width:500, height:300})
        // chart2 = new Chart('ChartModalContent', table.getDataForChart(y), {width:500, height:300})
        // new Chart('ChartModalContent', table.getDataForChart(y), {width:500, height:300})
        // new Chart('ChartModalContent', table.getDataForChart(y), {width:500, height:300})
      } else{
        chart.setChartData(table.getChartData(y).data, table.getChartData(y).header)
      }
    }
  })

  document.getElementById('btn5').addEventListener('click', () => {
    chart.setChartType('line')
  })
  document.getElementById('btn6').addEventListener('click', () => {
    chart.setChartType('column')
  })
  let subcribe = table.subscribe('changeCellContent', (data)=> console.log(data))
</script>
</body>
</html>